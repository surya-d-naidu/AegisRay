# AegisRay Mesh Network Configuration Example

# Node Configuration
node_name: "workstation-001"        # Unique name for this node
mesh_ip: ""                         # Auto-assigned from network_cidr
listen_port: 51820                  # Port for mesh communication (WireGuard default for stealth)
log_level: "info"                   # debug, info, warn, error

# Network Configuration  
network_name: "my-aegis-mesh"       # Name of your mesh network
network_cidr: "100.64.0.0/16"      # IP range for mesh (Tailscale-style CGNAT range)
dns_servers:
  - "1.1.1.1"                      # Cloudflare DNS
  - "8.8.8.8"                      # Google DNS

# Security Configuration
use_tls: true                       # Enable TLS for all connections
cert_file: ""                       # Auto-generated if empty
key_file: ""                        # Auto-generated if empty

# Stealth Configuration (SNI Masquerading)
stealth_mode: true                  # Enable stealth features
stealth_domains:
  - "cloudflare.com"               # Fake SNI domains for evasion
  - "google.com"
  - "microsoft.com"
  - "amazon.com"

# Peer Discovery & Coordination
coordinators:
  - "coord1.aegisray.com:443"      # Primary coordinator
  - "coord2.aegisray.com:443"      # Backup coordinator
static_peers: []                   # Static peer connections
auto_discovery: true               # Enable automatic peer discovery

# NAT Traversal Configuration
stun_servers:
  - "stun:stun.l.google.com:19302"
  - "stun:stun1.l.google.com:19302"
  - "stun:stun.cloudflare.com:3478"
turn_servers: []                   # TURN servers for difficult NATs
upnp_enabled: true                 # Try UPnP port forwarding

# Routing Configuration
allowed_ips:                       # IP ranges accessible through mesh
  - "100.64.0.0/16"               # Mesh network range
  - "10.0.0.0/8"                  # Private networks (optional)
excluded_routes: []                # Routes to exclude from mesh
default_route: false               # Route all traffic through mesh

# Network Performance
mtu: 1420                          # Maximum transmission unit
keepalive: 25                      # Keepalive interval (seconds)
persistent_keepalive: 0            # Persistent keepalive (0=disabled)

# Advanced Features
exit_node: false                   # Act as internet exit node
accept_routes: true                # Accept routes from peers
advertise_routes: []               # Routes to advertise to peers

# Experimental Features
mesh_routing: true                 # Enable mesh-wide routing
load_balancing: false              # Load balance across multiple paths
