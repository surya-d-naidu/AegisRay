# AegisRay Mesh Exit Node Configuration

# Node Configuration
node_name: "exit-node-us-west"
mesh_ip: "100.64.0.1"              # First IP in range (coordinator/exit node)
listen_port: 443                   # Use HTTPS port for stealth
log_level: "warn"                  # Minimal logging for production

# Network Configuration
network_name: "aegis-mesh"
network_cidr: "100.64.0.0/16"
dns_servers:
  - "1.1.1.1"
  - "8.8.8.8"

# Security Configuration
use_tls: true
cert_file: "/etc/aegisray/server.crt"
key_file: "/etc/aegisray/server.key"

# Ultra-Stealth Configuration
stealth_mode: true
stealth_domains:
  - "cdn.cloudflare.com"
  - "ajax.googleapis.com"
  - "static.microsoft.com"
  - "s3.amazonaws.com"

# Coordinator Configuration (this node acts as coordinator)
coordinators:
  - "127.0.0.1:443"              # Self-reference as coordinator
static_peers: []
auto_discovery: true

# NAT Traversal (exit nodes typically have public IPs)
stun_servers:
  - "stun:stun.l.google.com:19302"
turn_servers: []
upnp_enabled: false               # Not needed for public servers

# Exit Node Routing
allowed_ips:
  - "0.0.0.0/0"                  # Allow all traffic for exit node
excluded_routes: []
default_route: true               # This is a default route provider

# Performance Tuning for High Traffic
mtu: 1500                         # Full MTU for server
keepalive: 15                     # More frequent keepalive
persistent_keepalive: 25

# Exit Node Configuration
exit_node: true                   # This node provides internet access
accept_routes: true
advertise_routes:                 # Advertise internet access
  - "0.0.0.0/0"

# Load Balancing
mesh_routing: true
load_balancing: true              # Balance load across connections
